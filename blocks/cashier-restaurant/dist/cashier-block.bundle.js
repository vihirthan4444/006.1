!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("React")):"function"==typeof define&&define.amd?define(["React"],n):"object"==typeof exports?exports.CashierBlock=n(require("React")):e.CashierBlock=n(e.React)}(this,e=>(()=>{"use strict";var n={51(e){e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},109(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OrderService=void 0;class t{static createOrder(e){return{id:`order-${Date.now()}`,tableId:e,items:[],subtotal:0,tax:0,total:0,status:"pending",createdAt:Date.now()}}static addItem(e,n,t=1){const a=e.items.findIndex(e=>e.menuItem.id===n.id);let r;if(a>=0)r=e.items.map((e,n)=>{if(n===a){const n=e.quantity+t;return{...e,quantity:n,subtotal:n*e.menuItem.price}}return e});else{const a={menuItem:n,quantity:t,subtotal:n.price*t};r=[...e.items,a]}return this.recalculateOrder({...e,items:r})}static removeItem(e,n){const t=e.items.filter(e=>e.menuItem.id!==n);return this.recalculateOrder({...e,items:t})}static updateQuantity(e,n,t){if(t<=0)return this.removeItem(e,n);const a=e.items.map(e=>e.menuItem.id===n?{...e,quantity:t,subtotal:t*e.menuItem.price}:e);return this.recalculateOrder({...e,items:a})}static recalculateOrder(e){const n=e.items.reduce((e,n)=>e+n.subtotal,0),t=n*this.TAX_RATE,a=n+t;return{...e,subtotal:n,tax:t,total:a}}static completeOrder(e,n){return{...e,status:"completed",completedAt:Date.now(),paymentMethod:n}}static clearOrder(e){return this.recalculateOrder({...e,items:[]})}}n.OrderService=t,t.TAX_RATE=.1},128(e){var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},300(e){e.exports=JSON.parse('{"id":"cashier.restaurant","name":"Restaurant Cashier","version":"1.0.0","type":"business","description":"Point of sale system for restaurants with table management and order tracking","author":"System","icon":"ðŸ½ï¸","network":"optional","dependsOn":["core.db"],"permissions":["cashier.create","cashier.read","cashier.update"],"uiSlots":["sidebar","main"],"entryPoint":"dist/cashier-block.bundle.js"}')},454(e,n,t){t.r(n),t.d(n,{default:()=>g});var a=t(591),r=t.n(a),o=t(740),i=t.n(o),c=t(128),l=t.n(c),s=t(855),d=t.n(s),u=t(51),m=t.n(u),p=t(656),f=t.n(p),b=t(844),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=m(),r()(b.A,v);const g=b.A&&b.A.locals?b.A.locals:void 0},591(e){var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var o={},i=[],c=0;c<e.length;c++){var l=e[c],s=a.base?l[0]+a.base:l[0],d=o[s]||0,u="".concat(s," ").concat(d);o[s]=d+1;var m=t(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)n[m].references++,n[m].updater(p);else{var f=r(p,a);a.byIndex=c,n.splice(c,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=t(o[i]);n[c].references--}for(var l=a(e,r),s=0;s<o.length;s++){var d=t(o[s]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=l}}},656(e){e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},713(e,n,t){var a,r=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var r=Object.getOwnPropertyDescriptor(n,t);r&&!("get"in r?!n.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,r)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),i=0;i<t.length;i++)"default"!==t[i]&&r(n,e,t[i]);return o(n,e),n});Object.defineProperty(n,"__esModule",{value:!0});const c=i(t(883)),l=t(109);t(454),n.default=()=>{const[e,n]=(0,c.useState)(null),[t,a]=(0,c.useState)(null),[r,o]=(0,c.useState)([]),[i,s]=(0,c.useState)("all");(0,c.useEffect)(()=>{o([{id:"1",name:"Margherita Pizza",price:12.99,category:"pizza",icon:"ðŸ•",available:!0},{id:"2",name:"Pepperoni Pizza",price:14.99,category:"pizza",icon:"ðŸ•",available:!0},{id:"3",name:"Veggie Pizza",price:13.99,category:"pizza",icon:"ðŸ•",available:!0},{id:"4",name:"Classic Burger",price:10.99,category:"burgers",icon:"ðŸ”",available:!0},{id:"5",name:"Cheese Burger",price:11.99,category:"burgers",icon:"ðŸ”",available:!0},{id:"6",name:"Caesar Salad",price:8.99,category:"salads",icon:"ðŸ¥—",available:!0},{id:"7",name:"Greek Salad",price:9.99,category:"salads",icon:"ðŸ¥—",available:!0},{id:"8",name:"Chocolate Cake",price:6.99,category:"desserts",icon:"ðŸ°",available:!0},{id:"9",name:"Ice Cream",price:4.99,category:"desserts",icon:"ðŸ¨",available:!0},{id:"10",name:"Coke",price:2.99,category:"beverages",icon:"ðŸ¥¤",available:!0},{id:"11",name:"Coffee",price:3.99,category:"beverages",icon:"â˜•",available:!0}]);const e={id:"t5",number:5,capacity:4,status:"occupied"};n(e),a(l.OrderService.createOrder(e.id))},[]);const d="all"===i?r:r.filter(e=>e.category===i),u=(e,n)=>{if(!t)return;const r=t.items.find(n=>n.menuItem.id===e);if(!r)return;const o=r.quantity+n,i=l.OrderService.updateQuantity(t,e,o);a(i)};return c.default.createElement("div",{className:"cashier-screen"},c.default.createElement("div",{className:"cashier-header"},c.default.createElement("h1",{className:"cashier-title"},"ðŸ½ï¸ Restaurant Cashier"),e&&c.default.createElement("div",{className:"table-info"},c.default.createElement("span",null,"Table:"),c.default.createElement("span",{className:"table-badge"},"#",e.number))),c.default.createElement("div",{className:"cashier-content"},c.default.createElement("div",{className:"menu-section"},c.default.createElement("div",{className:"category-tabs"},[{id:"all",name:"All",icon:"ðŸ“‹"},{id:"pizza",name:"Pizza",icon:"ðŸ•"},{id:"burgers",name:"Burgers",icon:"ðŸ”"},{id:"salads",name:"Salads",icon:"ðŸ¥—"},{id:"desserts",name:"Desserts",icon:"ðŸ°"},{id:"beverages",name:"Beverages",icon:"â˜•"}].map(e=>c.default.createElement("button",{key:e.id,className:"category-tab "+(i===e.id?"active":""),onClick:()=>s(e.id)},e.icon," ",e.name))),c.default.createElement("div",{className:"menu-items-grid"},d.map(e=>c.default.createElement("div",{key:e.id,className:"menu-item-card "+(e.available?"":"unavailable"),onClick:()=>(e=>{if(!t||!e.available)return;const n=l.OrderService.addItem(t,e);a(n)})(e)},c.default.createElement("div",{className:"menu-item-icon"},e.icon),c.default.createElement("div",{className:"menu-item-name"},e.name),c.default.createElement("div",{className:"menu-item-price"},"$",e.price.toFixed(2)))))),c.default.createElement("div",{className:"order-section"},c.default.createElement("div",{className:"order-header"},"Current Order"),t&&t.items.length>0?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"order-items"},t.items.map(e=>c.default.createElement("div",{key:e.menuItem.id,className:"order-item"},c.default.createElement("div",{className:"order-item-info"},c.default.createElement("div",{className:"order-item-name"},e.menuItem.name),c.default.createElement("div",{className:"order-item-quantity"},c.default.createElement("button",{className:"qty-btn",onClick:()=>u(e.menuItem.id,-1)},"âˆ’"),c.default.createElement("span",{className:"qty-value"},e.quantity),c.default.createElement("button",{className:"qty-btn",onClick:()=>u(e.menuItem.id,1)},"+"))),c.default.createElement("div",{className:"order-item-price"},"$",e.subtotal.toFixed(2))))),c.default.createElement("div",{className:"order-summary"},c.default.createElement("div",{className:"summary-row"},c.default.createElement("span",null,"Subtotal:"),c.default.createElement("span",null,"$",t.subtotal.toFixed(2))),c.default.createElement("div",{className:"summary-row"},c.default.createElement("span",null,"Tax (10%):"),c.default.createElement("span",null,"$",t.tax.toFixed(2))),c.default.createElement("div",{className:"summary-row total"},c.default.createElement("span",null,"Total:"),c.default.createElement("span",null,"$",t.total.toFixed(2)))),c.default.createElement("div",{className:"order-actions"},c.default.createElement("button",{className:"action-btn btn-clear",onClick:()=>{if(!t)return;const e=l.OrderService.clearOrder(t);a(e)}},"Clear"),c.default.createElement("button",{className:"action-btn btn-payment",onClick:()=>{if(!t||0===t.items.length)return;alert(`Processing payment of $${t.total.toFixed(2)}`);const n=l.OrderService.completeOrder(t,"cash");console.log("Order completed:",n),e&&a(l.OrderService.createOrder(e.id))}},"Payment"))):c.default.createElement("div",{className:"empty-order"},c.default.createElement("div",{className:"empty-order-icon"},"ðŸ›’"),c.default.createElement("div",{className:"empty-order-text"},"No items in order",c.default.createElement("br",null),"Select items from the menu")))))}},740(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,r&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},758(e){e.exports=function(e){return e[1]}},783(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(t(713)),o=a(t(300));n.default={metadata:o.default,component:r.default,initialize:async()=>{console.log("Restaurant Cashier Block initialized")},activate:async()=>{console.log("Restaurant Cashier Block activated")},deactivate:async()=>{console.log("Restaurant Cashier Block deactivated")},uninstall:async()=>{console.log("Restaurant Cashier Block uninstalled")}}},844(e,n,t){t.d(n,{A:()=>c});var a=t(758),r=t.n(a),o=t(935),i=t.n(o)()(r());i.push([e.id,".cashier-screen {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: var(--bg-primary, #1e1e1e);\n    color: var(--text-primary, #cccccc);\n}\n\n.cashier-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px 24px;\n    background: var(--bg-secondary, #252526);\n    border-bottom: 1px solid var(--border-color, #454545);\n}\n\n.cashier-title {\n    font-size: 20px;\n    font-weight: 500;\n    color: var(--text-primary, #cccccc);\n}\n\n.table-info {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    font-size: 14px;\n    color: var(--text-secondary, #999999);\n}\n\n.table-badge {\n    padding: 4px 12px;\n    background: var(--accent-color, #007acc);\n    color: white;\n    border-radius: 4px;\n    font-weight: 500;\n}\n\n.cashier-content {\n    display: flex;\n    flex: 1;\n    overflow: hidden;\n}\n\n.menu-section {\n    flex: 2;\n    display: flex;\n    flex-direction: column;\n    border-right: 1px solid var(--border-color, #454545);\n    overflow: hidden;\n}\n\n.category-tabs {\n    display: flex;\n    gap: 8px;\n    padding: 16px;\n    background: var(--bg-secondary, #252526);\n    border-bottom: 1px solid var(--border-color, #454545);\n    overflow-x: auto;\n}\n\n.category-tab {\n    padding: 8px 16px;\n    background: transparent;\n    border: 1px solid var(--border-color, #454545);\n    border-radius: 4px;\n    color: var(--text-secondary, #999999);\n    cursor: pointer;\n    transition: all 0.2s;\n    white-space: nowrap;\n    font-size: 13px;\n}\n\n.category-tab:hover {\n    background: var(--bg-hover, #2a2d2e);\n    color: var(--text-primary, #cccccc);\n}\n\n.category-tab.active {\n    background: var(--accent-color, #007acc);\n    color: white;\n    border-color: var(--accent-color, #007acc);\n}\n\n.menu-items-grid {\n    flex: 1;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n    gap: 12px;\n    padding: 16px;\n    overflow-y: auto;\n}\n\n.menu-item-card {\n    background: var(--bg-secondary, #252526);\n    border: 1px solid var(--border-color, #454545);\n    border-radius: 4px;\n    padding: 12px;\n    cursor: pointer;\n    transition: all 0.2s;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n}\n\n.menu-item-card:hover {\n    background: var(--bg-hover, #2a2d2e);\n    border-color: var(--accent-color, #007acc);\n    transform: translateY(-2px);\n}\n\n.menu-item-card.unavailable {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.menu-item-icon {\n    font-size: 32px;\n    margin-bottom: 8px;\n}\n\n.menu-item-name {\n    font-size: 13px;\n    font-weight: 500;\n    color: var(--text-primary, #cccccc);\n    margin-bottom: 4px;\n}\n\n.menu-item-price {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--accent-color, #007acc);\n}\n\n.order-section {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    background: var(--bg-secondary, #252526);\n    min-width: 320px;\n}\n\n.order-header {\n    padding: 16px;\n    border-bottom: 1px solid var(--border-color, #454545);\n    font-size: 16px;\n    font-weight: 500;\n}\n\n.order-items {\n    flex: 1;\n    overflow-y: auto;\n    padding: 12px;\n}\n\n.order-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px;\n    background: var(--bg-primary, #1e1e1e);\n    border-radius: 4px;\n    margin-bottom: 8px;\n}\n\n.order-item-info {\n    flex: 1;\n}\n\n.order-item-name {\n    font-size: 13px;\n    font-weight: 500;\n    color: var(--text-primary, #cccccc);\n    margin-bottom: 4px;\n}\n\n.order-item-quantity {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-top: 8px;\n}\n\n.qty-btn {\n    width: 24px;\n    height: 24px;\n    background: var(--bg-button, #0e639c);\n    border: none;\n    border-radius: 2px;\n    color: white;\n    cursor: pointer;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.qty-btn:hover {\n    background: var(--bg-button-hover, #1177bb);\n}\n\n.qty-value {\n    min-width: 30px;\n    text-align: center;\n    font-size: 13px;\n}\n\n.order-item-price {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--text-primary, #cccccc);\n}\n\n.order-summary {\n    padding: 16px;\n    border-top: 1px solid var(--border-color, #454545);\n}\n\n.summary-row {\n    display: flex;\n    justify-content: space-between;\n    padding: 8px 0;\n    font-size: 13px;\n}\n\n.summary-row.total {\n    font-size: 16px;\n    font-weight: 600;\n    padding-top: 12px;\n    border-top: 1px solid var(--border-color, #454545);\n    margin-top: 8px;\n}\n\n.order-actions {\n    display: flex;\n    gap: 8px;\n    padding: 16px;\n    border-top: 1px solid var(--border-color, #454545);\n}\n\n.action-btn {\n    flex: 1;\n    padding: 12px;\n    border: none;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n\n.btn-clear {\n    background: var(--bg-input, #3c3c3c);\n    color: var(--text-primary, #cccccc);\n}\n\n.btn-clear:hover {\n    background: var(--bg-hover, #2a2d2e);\n}\n\n.btn-payment {\n    background: var(--bg-button, #0e639c);\n    color: white;\n}\n\n.btn-payment:hover {\n    background: var(--bg-button-hover, #1177bb);\n}\n\n.btn-payment:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.empty-order {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    color: var(--text-secondary, #999999);\n    padding: 40px;\n    text-align: center;\n}\n\n.empty-order-icon {\n    font-size: 48px;\n    margin-bottom: 16px;\n    opacity: 0.5;\n}\n\n.empty-order-text {\n    font-size: 14px;\n}",""]);const c=i},855(e,n,t){e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},883(n){n.exports=e},935(e){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);a&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),n.push(d))}},n}}},t={};function a(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,a),o.exports}a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var r=a(783);return r.default})());